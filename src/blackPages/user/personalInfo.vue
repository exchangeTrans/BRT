<template>
    <view class="personalInfo" id="personalInfo">
        <app-header :headerOptions="headerOptions" class="addHeader"></app-header>
        <view class="headerOption">
        </view>
        <view class="avatarBar">
            <view class="avatarText">
                {{$t('personInfo').avatarText}}
            </view>
            <view class="avatarWrap">
                <view class="avatar">
                    <image :src="avatar"></image>
                </view>
                <view class="modify"
                      @tap="ChooseImage"
                      :style="{'background-image': modifyUrl}">
                </view>
            </view>
        </view>
        <view class="nicknameBar">
            <view class="nicknameText">
                {{$t('personInfo').nicknameText}}
            </view>
            <view class="nicknameWrap">
                <input class="nickname"
                       :focus="nicknameInput"
                       @blur="nicknameMoveOut"
                       :name="userMsgData.nickname"
                       v-model="userMsgData.nickname"/>

                <view class="modify"
                      @tap="nicknameClick"
                      :style="{'background-image': modifyUrl}">

                </view>
            </view>

        </view>
        <view class="personalInfoBtn"
              @tap="saveBtnClick">
            {{$t('personInfo').saveBtn}}
        </view>
    </view>

</template>

<script src="@/script/user/personalInfo.js"></script>

<style lang="less">
    .personalInfo {
        width: 100%;
        height: 100%;
        background: #22252A;

        .addHeader {
            top: var(--status-bar-height);
        }

        .avatarBar {
            width: 100%;
            height: 160rpx;
            background: #272A2E;
            box-shadow: 0rpx 2rpx 0rpx 0rpx rgba(255, 255, 255, 0.1);
            padding-top: 176rpx;
            position: relative;
            display: flex;

            .avatarText {
                width: 20%;
                margin: auto 0 auto 30rpx;
                font-size: 32rpx;
                font-family: PingFangSC-Regular, PingFang SC;
                font-weight: 400;
                color: #D9DADB;
                line-height: 44rpx;
            }

            .avatarWrap {
                position: relative;
                width: 80%;
                height: 100%;

                .avatar {
                    width: 120rpx;
                    height: 120rpx;
                    background-size: 100% 100%;
                    position: absolute;
                    top: 50%;
                    transform: translateY(-50%);
                    right: 98rpx;
                    /*border-radius: 50%;*/

                    image {
                        width: 100%;
                        height: 100%;
                        border-radius: 50%;
                    }
                }

                .modify {
                    position: absolute;
                    top: 50%;
                    transform: translateY(-50%);
                    right: 30rpx;
                    width: 28rpx;
                    height: 28rpx;
                    background-size: 100% 100%;
                }
            }
        }

        .nicknameBar {
            width: 100%;
            height: 100rpx;
            background: #272A2E;
            box-shadow: 0rpx 2rpx 0rpx 0rpx rgba(255, 255, 255, 0.1);
            position: relative;
            display: flex;

            .nicknameText {
                margin: auto 0 auto 30rpx;
                width: 20%;
                font-size: 32rpx;
                font-family: PingFangSC-Regular, PingFang SC;
                font-weight: 400;
                color: #D9DADB;
                line-height: 100rpx;
            }

            .nicknameWrap {
                position: relative;
                width: 80%;
                height: 100%;

                .nickname {
                    font-size: 32rpx;
                    height: 100rpx;
                    font-family: PingFangSC-Regular, PingFang SC;
                    font-weight: 400;
                    color: #D9DADB;
                    margin-right: 98rpx;
                    text-align: right;
                }

                .modify {
                    position: absolute;
                    top: 50%;
                    transform: translateY(-50%);
                    right: 30rpx;
                    width: 28rpx;
                    height: 28rpx;
                    background-size: 100% 100%;
                }
            }
        }


        .personalInfoBtn {
            margin: 60rpx auto 0 auto;
            width: 710rpx;
            height: 100rpx;
            background: linear-gradient(136deg, #004FA8 0%, #007CD3 50%, #25D4ED 100%);
            border-radius: 50rpx;

            text-align: center;
            font-size: 32rpx;
            font-family: PingFangSC-Regular, PingFang SC;
            font-weight: 400;
            color: #FFFFFF;
            line-height: 100rpx;

        }

    }
</style>
